// Redirect to the appropriate search function for a virtual table.
int search(sqlite3_vtab_cursor* cur, char *constr, sqlite3_value *val) {
    picoQLTable *picoQL = (picoQLTable *)cur->pVtab;
<%    @tables.each { |vt| %>
    if (!strcmp(picoQL->zName, "<%= vt.name %>"))
        return <%= vt.name %>_search(cur, constr, val);
<%    } %>
    return SQLITE_INTERNAL;
}

